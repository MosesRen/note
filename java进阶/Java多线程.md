# Java并发

主要的问题：

1. 什么是多线程
2. 如何实现多线程
3. 多线程的问题及解决方法

## 1.什么是多线程

1. **进程与线程**：进程是资源分配的最小单位，线程是程序执行的最小单位（资源调度的最小单位）

   *一个程序至少有一个进程,一个进程至少有一个线程*。

   进程，是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础。它的执行需要系统分配资源创建实体之后，才能进行。

   线程是进程的一个实体,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位.线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如[程序计数器](https://www.baidu.com/s?wd=程序计数器&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao),一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源.

   **区别**

   1）地址空间和其它资源（如打开文件）：进程间相互独立，同一进程的各线程间共享。某进程内的线程在其它进程不可见。

   2）通信：进程间通信IPC(Inter-Process Communication)，线程间可以直接读写进程数据段（如全局变量）来进行通信——需要进程同步和互斥手段的辅助，以保证数据的一致性。

   3）调度和切换：线程上下文切换比进程上下文切换要快得多。

   4) 通俗一点说，进程就是程序的一次执行，而线程可以理解为进程中的执行的一段程序片段。

   5)   用一点文词说就是，每个进程都有独立的代码和数据空间（进程上下文）；而线程可以看成是轻量级的进程。一般来讲（不使用特殊技术），同一进程所产生的线程共享同一块内存空间。

   6)  同一进程中的两段代码是不可能同时执行的，除非引入线程。

2. 线程的状态转换

   ![](../img/线程状态.png)

## 并发程序的同步方式

进程：无名管道(pipe)、有名管道(FIFO)、信号、共享内存、消息队列、信号量、套接字(socket)
线程：互斥量、读写锁、自旋锁、线程信号、条件变量

## 2.如何实现多线程

+ 继承Thread

  //todo code

+ 实现runnable接口

+ 实现callable接口和future

## 3.线程间同步

